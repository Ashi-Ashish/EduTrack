#!/usr/bin/env bash
set -euo pipefail
echo "pre-commit: running quick checks..."
if command -v dotnet >/dev/null 2>&1; then
  if [ -n "$(git ls-files -- '*.sln' '*.csproj')" ]; then
    dotnet format --verify-no-changes || { echo "Run: dotnet format"; exit 1; }
  else
    echo "Skipping dotnet format (no .sln/.csproj yet)."
  fi
fi
if [ -f package.json ] && command -v pnpm >/dev/null 2>&1; then
  pnpm -w -r lint || true
fi
